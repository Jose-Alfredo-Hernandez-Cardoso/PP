import flet as ft
#import Sesion
#import Registro
#from Registro import maindos
async def main(page: ft.Page):
    page.title = "DERIVAME ESTA"
    page.window_width = 720
    page.window_height = 1280
    page.window_resizable = True
    page.padding = 0


    def Registrarse(pagi : ft.Page):
        #cambio entre clases (páginas)
        page.clean(),
        page.add()
        page.window_width = 720
        page.window_height = 1280
        page.window_resizable = True
        page.padding = 0
        
        
        
        B = ft.Stack([
        ft.Container(width=600, height=140, top=0, left=0, bgcolor=ft.colors.WHITE),
        ft.Text(
            value="ESTAMOS ORGULLOSOS DE QUE FORMES \n     PARTE DE NUESTRA COMUNIDAD",
            left=100,
            top=0,
            text_align=ft.MainAxisAlignment.CENTER,
            #ft.alignment.top_center,
            size=22,
            style=ft.TextStyle(color=ft.colors.BLACK)
            )
        ])
        
        ESTUPDM = ft.Stack([
        ft.Container(width=600, height=80, top=0, left=0, bgcolor=ft.colors.WHITE),
        ft.Text(
            value="Esto solo tomará un par de minutos",
            left=170,
            top=15,
            text_align=ft.alignment.center,
            size=15,
            style=ft.TextStyle(color=ft.colors.BLACK)
            )
        ])

        def metefoto(pagRr : ft.Page):
            page.clean(),
            page.add()
            page.title='Fotico'
            page.window_width = 720
            page.window_height = 1280
            page.window_resizable = True
            page.padding = 0
        
            FOTO = ft.Text(
            value="aaaaa",
        )
     
            MT = ft.TextButton(
            
        text="Sí",
        style=ft.ButtonStyle(bgcolor=ft.colors.WHITE,color=ft.colors.BLACK, side=ft.border.all()),
        
    )

            TF = ft.FilePicker()
            page.overlay.append(TF)
                
  
            
            FR = ft.Stack([
#        ft.Container(width=100, height=80,bgcolor=ft.colors.BLUE_300,),

        ft.IconButton(
                    icon=ft.icons.ADD_A_PHOTO_ROUNDED,
                    on_click=lambda _: TF.pick_files(
                        allow_multiple=True
                    ),
                ),      

#      ft.Image(src="Mono.jpg")
    ])
            EDF= ft.Container(FOTO,width=600, height=80, margin=ft.margin.only(top=40), border=ft.border.all())
            CFR= ft.Container(width=200, height=200, margin=ft.margin.only(top=-185, left=200), border=ft.border.all(),border_radius=200,bgcolor=ft.colors.AMBER_100)
            CTF= ft.Container(FR,width=40, height=40, margin=ft.margin.only(top=180, left=350), border=ft.border.all(),border_radius=200)
            
            col= ft.Column(spacing=0, controls=[
                EDF,
                
                CTF,
                CFR,
                
        ])

            contenedor = ft.Container(col,width=720, height=1280, bgcolor=ft.colors.WHITE,alignment=ft.alignment.top_center)
    
            page.add(contenedor)
     
        
        page.update()

        TPF = ft.Stack([
          ft.Container(width=600, height=80, top=0, left=0, bgcolor=ft.colors.WHITE),
          ft.TextButton(
          content=ft.Column([
            ft.Text(value="  foto de perfil?", size=20),
            ],
            alignment=ft.MainAxisAlignment.CENTER,
                  ),
          left=320,
          top=13,
          style=ft.ButtonStyle(bgcolor=ft.colors.WHITE,color=ft.colors.BLACK),
          on_click=metefoto
        ),
          ft.Text(
            value="¿Deseas ingresar una",
            left=145,
            top=15,
            text_align=ft.MainAxisAlignment.CENTER,
            size=20,
           style=ft.TextStyle(color=ft.colors.BLACK)
           ),

       ]) 


        IDU = ft.TextField(
        hint_text="Ingrese el nombre de usuario a utilizar",
        
        )
        
        IDC = ft.TextField(
        hint_text="Ingrese el correo electrónico"
        )

        CDC = ft.TextField(
        hint_text="Asigna una contraseña", password=True, can_reveal_password=True
        
        )
        
        NT = ft.TextField(
        hint_text="Ingrese su número telefónico",
        )

        async def usuarioregistrado(event):
            if (not IDU.value or not IDC.value or not CDC.value or not NT.value):
                IDU.error_text='Por favor, ingrese el dato'
                IDC.error_text='Por favor, ingrese el dato'
                CDC.error_text='Por favor, ingrese el dato'
                NT.error_text='Por favor, ingrese el dato'
                page.update()
            else:
                user= IDU.value
                correo=IDC.value
                contra=CDC.value
                numero=NT.value
                page.clean()
                page.add(ft.Text(f'bolas {user,correo,contra,numero}'))

        CC = ft.TextButton(
            
        text="Crear cuenta",
        style=ft.ButtonStyle(bgcolor=ft.colors.WHITE,color=ft.colors.BLACK, side=ft.border.all()),
        on_click=usuarioregistrado,
    )

        B= ft.Container(B,width=600, height=80, margin=ft.margin.only(top=40), border=ft.border.all())
        ESTUPDM= ft.Container(ESTUPDM,width=600, height=80, margin=ft.margin.only(top=0), border=ft.border.all())
        TPF= ft.Container(TPF,width=600, height=80, margin=ft.margin.only(top=20), bgcolor=ft.colors.AMBER_200, border=ft.border.all())
        CIDU= ft.Container(IDU,width=600, height=80, margin=ft.margin.only(top=40), border=ft.border.all())
        CIDC= ft.Container(IDC,width=600, height=80, margin=ft.margin.only(top=60), border=ft.border.all())
        CCDC= ft.Container(CDC,width=600, height=80, margin=ft.margin.only(top=70), border=ft.border.all())
        CNT= ft.Container(NT,width=600, height=80, margin=ft.margin.only(top=40), border=ft.border.all())   
        CBTCC= ft.Container(CC,width=600, height=80, margin=ft.margin.only(top=40), border=ft.border.all())
        
        col= ft.Column(spacing=0, controls=[
            B,
            ESTUPDM,
            TPF,
            CIDU,
            CIDC,
            CCDC,
            CNT,
            CBTCC
        ])

        contenedor = ft.Container(col,width=720, height=1280, bgcolor=ft.colors.WHITE,alignment=ft.alignment.top_center)
    
        
        page.add(contenedor)
        #pagi.add()
    page.update()

    TNA = ft.Stack([
      ft.Container(width=600, height=80, top=0, left=0, bgcolor=ft.colors.WHITE),
      ft.Text(
          value="DERIVAME ESTA",
          left=200,
          top=15,
          text_align=ft.alignment.center,
          size=30,
          style=ft.TextStyle(color=ft.colors.BLACK)
          )
      ])

    CF = ft.Stack([
      #ft.Container(width=720, height=1280, bgcolor=ft.colors.BLUE_300),
      ft.Image(src="Mono.jpg")
    ])

    TSDU = ft.TextField(
    hint_text="Usuario",
    
    )
    
    TSDC = ft.TextField( 
    hint_text="Contraseña", password=True, can_reveal_password=True
    )


    async def usuariovalidao(event):
        if (not TSDU.value or not TSDC.value):
            TSDU.error_text='Por favor, ingrese el dato'
            TSDC.error_text='Por favor, ingrese el dato'
            page.update()
        else:
          page.clean(),
          page.add()
          page.title='Fotico'
          page.window_width = 720
          page.window_height = 1280
          page.window_resizable = True
          page.padding = 0
          


          EF = ft.Stack([
        #ft.Container(width=600, height=80, top=0, left=0, bgcolor=ft.colors.WHITE, border=ft.border.all(),alignment=ft.alignment.top_center),
        ft.Text(
            value="Encontrar fórmula",
            left=10,
            top=15,
#            text_align=ft.alignment.center,
            size=15,
            style=ft.TextStyle(color=ft.colors.BLACK)
            ),
        ])
          Settings=ft.Stack([
          ft.IconButton(
            icon=ft.icons.SETTINGS_OUTLINED,
            top=0,
            left=0,
            scale=2
            #on_click=lambda _: TF.pick_files(
            )])
          TPPLS=ft.Text("Pasos para la solución")
          P1=ft.Text("Paso 1")
          P2=ft.Text("Paso 2")
          P3=ft.Text("Paso 3")
          P4=ft.Text("Paso 4")
          PPLS=ft.Stack([
            ft.Container(TPPLS,width=200, height=30, margin=ft.margin.only(top=10, left=50), border=ft.border.all(), alignment=ft.alignment.top_center),
            ft.Container(P1,width=100, height=100, margin=ft.margin.only(top=50, left=100), border=ft.border.all(), alignment=ft.alignment.top_center),
            ft.Container(P3,width=100, height=100, margin=ft.margin.only(top=250, left=100), border=ft.border.all(), alignment=ft.alignment.top_center),
            ft.Container(P2,width=100, height=100, margin=ft.margin.only(top=150, left=200), border=ft.border.all(), alignment=ft.alignment.top_center),
            ft.Container(P4,width=100, height=100, margin=ft.margin.only(top=150, left=0), border=ft.border.all(), alignment=ft.alignment.top_center),
          ])
        IP = ft.TextField(
        hint_text="Ingrese el problema"
        )
        PDR= ft.Text(
            value="Presentación de resultado"
        )
        CYPDG= ft.Stack([
            ft.Text(
            value="Creación y presentación de la gráfica",
            top=5,
            left=30
        )])        
        
        CEF= ft.Container(EF,width=200, height=50, margin=ft.margin.only(top=-50, left=180), border=ft.border.all(), alignment=ft.alignment.top_center)
        CS = ft.Container(Settings,width=50, height=50, margin=ft.margin.only(top=50, left=550), border=ft.border.all(), alignment=ft.alignment.top_center)
        CFDU= ft.Container(CF,width=50, height=50, margin=ft.margin.only(top=-50, left=20), border=ft.border.all(), alignment=ft.alignment.top_center,border_radius=200)
        CPPSL=ft.Container(PPLS,width=350, height=400, margin=ft.margin.only(top=-300, left=50), border=ft.border.all(), alignment=ft.alignment.top_center)
        CIP= ft.Container(IP,width=200, height=50, margin=ft.margin.only(top=100, left=450), border=ft.border.all(), alignment=ft.alignment.top_center)
        CPDR= ft.Container(PDR,width=200, height=150, margin=ft.margin.only(top=100, left=450), border=ft.border.all(), alignment=ft.alignment.top_center)
        CCYPDG= ft.Container(CYPDG,width=300, height=50, margin=ft.margin.only(top=50, left=220), border=ft.border.all(), alignment=ft.alignment.top_center)

        col= ft.Column(spacing=0, controls=[
        CS,
        CEF,
        CFDU,
        CIP,
        CPDR,
        CPPSL,
        CCYPDG,
                
        #Settings,
        
        ])

        contenedor = ft.Container(col,width=720, height=1280, bgcolor=ft.colors.WHITE)
    #,alignment=ft.alignment.top_center
        
        page.add(contenedor)

          #page.add(sesioniniciada)
        page.update()














    def sesioniniciada(pagSI : ft.Page):
            page.clean(),
            page.add()
            page.title='Fotico'
            page.window_width = 720
            page.window_height = 1280
            page.window_resizable = True
            page.padding = 0
        

            page.add(ft.Text("bolasssss"))
    page.update()   














    TDR = ft.Stack([
      ft.Container(width=600, height=80, top=0, left=0, bgcolor=ft.colors.WHITE),
      ft.TextButton(
      content=ft.Column([
        ft.Text(value="Registrarse", size=20),
        ],
        alignment=ft.MainAxisAlignment.CENTER,
                ),
      left=320,
      top=12,
      style=ft.ButtonStyle(bgcolor=ft.colors.WHITE,color=ft.colors.BLACK),
      on_click=Registrarse
    ),
      ft.Text(
          value="¿No tienes cuenta?",
          left=145,
          top=15,
          text_align=ft.MainAxisAlignment.CENTER,
          size=20,
          style=ft.TextStyle(color=ft.colors.BLACK)
          ),

      ]) 

    BDIS = ft.TextButton(
        
      text="Iniciar sesión",
      style=ft.ButtonStyle(bgcolor=ft.colors.WHITE,color=ft.colors.BLACK, side=ft.border.all()),
     on_click=usuariovalidao,
     )
    
    NA= ft.Container(TNA,width=600, height=80, margin=ft.margin.only(top=40), border=ft.border.all())
    Foto= ft.Container(CF,width=200, height=200, margin=ft.margin.only(top=60, left=200), border=ft.border.all(), alignment=ft.alignment.top_center,border_radius=200)
    Usuario= ft.Container(TSDU,width=600, height=80, margin=ft.margin.only(top=70), border=ft.border.all())
    Contraseña= ft.Container(TSDC,width=600, height=80, margin=ft.margin.only(top=40), border=ft.border.all())   
    TPCC= ft.Container(TDR,width=600, height=80, margin=ft.margin.only(top=40), border=ft.border.all())
    IS= ft.Container(BDIS,width=300, height=80, margin=ft.margin.only(top=40, left=150), border=ft.border.all())

    col= ft.Column(spacing=0, controls=[
        NA,
        Foto,
        Usuario,
        Contraseña,
        TPCC,
        IS,
    ])

    contenedor = ft.Container(col,width=720, height=1280, bgcolor=ft.colors.WHITE,alignment=ft.alignment.top_center)
    await page.add_async(contenedor)
 
ft.app(target=main)#,view=ft.WEB_BROWSER)
